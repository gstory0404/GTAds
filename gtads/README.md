# GTAdsèšåˆå¹¿å‘Šæ’ä»¶

<p>
<a href="https://pub.dev/packages/gtads"><img src=https://img.shields.io/pub/v/gtads?color=orange></a>
<a href="https://pub.dev/packages/gtads"><img src=https://img.shields.io/pub/likes/gtads></a>
<a href="https://pub.dev/packages/gtads"><img src=https://img.shields.io/pub/points/gtads></a>
<a href="https://github.com/gstory0404/gtads/commits"><img src=https://img.shields.io/github/last-commit/gstory0404/gtads></a>
<a href="https://github.com/gstory0404/gtads"><img src=https://img.shields.io/github/stars/gstory0404/gtads></a>
</p>

<p>
<a href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=VhD0AZSmzvsD3fu7CeQFkzpBQHMHANb1&authKey=W7JGJ0HKklyhP1jyBvbTF2Dkw0cq4UmhVSx2zXVdIm6n48Xrto%2B7%2B1n9jbkAadyF&noverify=0&group_code=649574038"><img src=https://img.shields.io/badge/flutter%E4%BA%A4%E6%B5%81%E7%BE%A4-649574038-blue></a>
<a href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=9I9lyXewEsEnx0f00EOF_9hEcFmG5Bmg&authKey=AJfQ8%2FhOLcoJ0p5B16EITjFav1IIs3UAerZSUsWZfa0evuklgxibHti51AYlZgI3&noverify=0&group_code=769626410"><img src=https://img.shields.io/badge/flutter%E4%BA%A4%E6%B5%81%E7%BE%A42-769626410-blue></a>
<a href="https://qm.qq.com/q/4MSgZuKimc"><img src=https://img.shields.io/badge/flutter%E6%8F%92%E4%BB%B6%E5%8F%8D%E9%A6%88-662186116-blue></a>
</p>

GTAdsæ˜¯ä¸€ä¸ªFlutterèšåˆå¹¿å‘Šç®¡ç†æ’ä»¶ï¼Œæ”¯æŒandroidã€iosï¼Œæä¾›ä¸€å¥—å¹¿å‘Šç®¡ç†è°ƒåº¦æ–¹æ¡ˆåŠå¹¿å‘Šè§„åˆ™ã€æœ¬èº«ä¸æä¾›ä»»ä½•å¹¿å‘Šï¼Œå¯é€šè¿‡æ‰©å±•æ–¹æ³•å¿«é€Ÿé›†æˆå¸‚é¢ä»»ä½•ä¸€æ¬¾å¹¿å‘Šã€‚

## æ”¯æŒæ’ä»¶

- [gtads(åŸºç¡€åº“)](https://github.com/gstory0404/GTAds/tree/master/gtads)
- [gtads_csj(å­—èŠ‚ç©¿å±±ç”²å¹¿å‘Šæ”¯æŒ)](https://github.com/gstory0404/GTAds/tree/master/gtads_csj)
- [gtads_ylh(è…¾è®¯ä¼˜é‡æ±‡å¹¿å‘Šæ”¯æŒ)](https://github.com/gstory0404/GTAds/tree/master/gtads_ylh)
- [gtads_sigmob(Sigmobå¹¿å‘Šæ”¯æŒ)](https://github.com/gstory0404/GTAds/tree/master/gtads_sigmob)
- [gtads_bqt(ç™¾åº¦ç™¾é’è—¤å¹¿å‘Šæ”¯æŒ)](https://github.com/gstory0404/GTAds/tree/master/gtads_bqt)
- [gtads_ks(å¿«æ‰‹å¹¿å‘Šæ”¯æŒ)](https://github.com/gstory0404/GTAds/tree/master/gtads_ks)

## å¼€å‘ç¯å¢ƒ

```dart
[âœ“] Flutter (Channel stable, 3.24.5, on macOS 14.6.1 23G93 darwin-x64, locale zh-Hans-CN)
[âœ“] Android toolchain - develop for Android devices (Android SDK version 33.0.1)
[âœ“] Xcode - develop for iOS and macOS (Xcode 16.1)
[âœ“] Chrome - develop for the web
[âœ“] Android Studio (version 2022.1)
[âœ“] Android Studio (version 2022.3)
[âœ“] IntelliJ IDEA Ultimate Edition (version 2023.2.2)
[âœ“] VS Code (version 1.95.3)
[âœ“] Connected device (4 available)
[âœ“] Network resources
```

# ä½¿ç”¨

> å¼•å…¥1.5.xæœ€æ–°æ’ä»¶

### pubspec.yaml

```dart
 //å¹¿å‘ŠåŸºç¡€åº“ å¿…é¡»å¼•å…¥
 gtads: ^1.5.0
 //éœ€è¦ä½¿ç”¨çš„å¹¿å‘ŠæŒ‰éœ€å¼•å…¥,ä»¥ä¸‹å¯é€‰
 //å­—èŠ‚ç©¿å±±ç”²å¹¿å‘Š
 gtads_csj: ^1.5.x
 //è…¾è®¯ä¼˜é‡æ±‡å¹¿å‘Š
 gtads_ylh: ^1.5.x
 //sigmobå¹¿å‘Š
 gtads_sigmob: ^1.5.x
 //ç™¾åº¦ç™¾é’è—¤å¹¿å‘Š
 gtads_bqt: ^1.5.x
 //å¿«æ‰‹å¹¿å‘Š
 gtads_ks: ^1.5.x
```

> åŸºç¡€åº“ç‰ˆæœ¬å·ä¸å¹¿å‘Šæ’ä»¶ç‰ˆæœ¬å·å‰ä¸¤ä½å¿…é¡»ä¿æŒä¸€è‡´ï¼Œä¸ç„¶ä¼šå‡ºç°å…¼å®¹é—®é¢˜

### å¼•å…¥

```dart
import 'package:gtads/gtads.dart';
```

### æ·»åŠ å¹¿å‘Š

å¹¿å‘Šåˆå§‹åŒ–å‰å¿…é¡»å®Œæˆæ·»åŠ å¯¹åº”å¹¿å‘ŠProviderï¼Œå¦‚ï¼šç©¿å±±ç”²

```dart
//æ·»åŠ Provider
GTAds.addProvider(GTAdsCsjProvider("csj","5098580","5098580",appName: "unionad"));
//æ·»åŠ Provideråˆ—è¡¨
GTAds.addProviders([GTAdsCsjProvider("csj","5098580","5098580",appName: "unionad")]);
//ç§»é™¤Provider
GTAds.removeProvider("csj");
//è·å–Provider
GTAds.getProvider("csj");
```

> GTAdsCsjProvider ç©¿å±±ç”²å¹¿å‘ŠProvider
> alias: å¹¿å‘Šåˆ«åï¼Œå¿…é¡»ä¿è¯å”¯ä¸€ï¼Œåç»­å¹¿å‘ŠåŠ è½½å›è°ƒå°†è¿”å›è¿™ä¸ªåˆ«å è¯†åˆ«æ˜¯å“ªå®¶çš„å¹¿å‘Š
> androidId: andorid appId
> iosId: ios appId

ğŸ“¢ ä½¿ç”¨å‰æŸ¥çœ‹å¯¹åº”å¹¿å‘ŠProviderå‚æ•°

ğŸ“¢ å¦‚æœå¤–éƒ¨å®šä¹‰äº†å¹¿å‘Šidç»„ï¼Œåˆ™åœ¨ä¼ å…¥çš„æ—¶å€™å¦‚ä¸‹
```agsl
  //æ¨ªå¹…å¹¿å‘Šä½
  static List<GTAdsCode> bannerCodes = [
    GTAdsCode(
        alias: CSJ, probability: 5, androidId: "102735527", iosId: "102735527"),
    GTAdsCode(
        alias: YLH,
        probability: 5,
        androidId: "8042711873318113",
        iosId: "5004358713683949")
  ];
  GTAdsBannerWidget(
     codes: [...Config.bannerCodes],
     ...
  )
```

### åˆå§‹åŒ–

```dart
//isDebug æ˜¯å¦å¼€å¯debugæ—¥å¿—
await GTAds.init(isDebug: true);
//return [{csj: true}]ï¼Œæ·»åŠ çš„å¹¿å‘Šåˆå§‹åŒ–ç»“æœ
```

### GTAdsCode

```dart
//åˆ«å éœ€è¦ä¸GTAds.addProviderä¼ å…¥çš„Provideråˆ«åä¿æŒä¸€è‡´ ä¸ç„¶æ— æ³•åŠ è½½å¯¹åº”å¹¿å‘Š
String alias = "";
//å½“å‰å¹¿å‘Šä½ androidid
String? androidId;
//å½“å‰å¹¿å‘Šä½ iosid
String? iosId;
//GTAdsModel.PRIORITYæ—¶ å½“å‰å¹¿å‘Šä½çš„ä¼˜å…ˆçº§æ•°å€¼è¶Šå¤§è¶Šä¼˜å…ˆåŠ è½½ï¼ˆå½“åŠ è½½å¤±è´¥åä»å‰©ä½™å¹¿å‘Šä¸­æŒ‰æ•°å€¼å¤§å°ä¾æ¬¡é‡è¯•ï¼‰
//GTAdsModel.RANDOMæ—¶ å½“å‰å¹¿å‘Šä½å‡ºç°çš„æ¦‚ç‡å¿…é¡»å¤§äº0,å¦‚æœå°äº0åˆ™ä¸ä¼šåŠ è½½è¯¥å¹¿å‘Š,æ•°å€¼è¶Šå¤§å‡ºç°çš„æ¦‚ç‡è¶Šé«˜ï¼ˆå½“åŠ è½½å¤±è´¥åä»å‰©ä½™å¹¿å‘Šä¸­é‡æ–°éšæœºåŠ è½½ï¼‰
int probability = 0;
```

### æ¨ªå¹…å¹¿å‘Š

```dart
 GTAdsBannerWidget(
    //éœ€è¦çš„å¹¿å‘Šä½æ•°ç»„
    codes: [GTAdsCode(alias: "csj", probability: 5,androidId: "945410197",iosId: "945410197")],
    //å®½
    width: 300,
    //é«˜
    height: 400,
    //è¶…æ—¶æ—¶é—´ å½“å¹¿å‘Šå¤±è´¥åä¼šä¾æ¬¡é‡è¯•å…¶ä»–å¹¿å‘Š ç›´è‡³æ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ è®¾ç½®è¶…æ—¶æ—¶é—´å¯æå‰å–æ¶ˆ
    timeout: 5,
    //å¹¿å‘ŠåŠ è½½æ¨¡å¼ [GTAdsModel.RANDOM]ä¼˜å…ˆçº§æ¨¡å¼ [GTAdsModel.RANDOM]éšæœºæ¨¡å¼
    //é»˜è®¤éšæœºæ¨¡å¼
    model: GTAdsModel.RANDOM,
    //å›è°ƒ
    callBack: GTAdsCallBack(
        onShow: (code) {
          print("Banneræ˜¾ç¤º ${code.toJson()}");
        },
        onClick: (code) {
          print("Bannerç‚¹å‡» ${code.toJson()}");
        },
        onFail: (code,message) {
          print("Banneré”™è¯¯ ${code.toJson()} $message");
        },
        onClose: (code) {
          print("Bannerå…³é—­ ${code.toJson()}");
        },
        onTimeout: () {
          print("BanneråŠ è½½è¶…æ—¶");
        },
        onEnd: () {
          print("Banneræ‰€æœ‰å¹¿å‘Šä½éƒ½åŠ è½½å¤±è´¥");
        },
)),
```

### æ¿€åŠ±å¹¿å‘Š

```dart
  var b = await GTAds.rewardAd(
    //éœ€è¦çš„å¹¿å‘Šä½æ•°ç»„
    codes: [GTAdsCode(alias: "csj", probability: 5,androidId: "945418088",iosId: "945418088")],
    //å¥–åŠ±åç§°
    rewardName: "100é‡‘å¸",
    //å¥–åŠ±æ•°é‡
    rewardAmount: 100,
    //ç”¨æˆ·id
    userId: "user100",
    //æ‰©å±•å‚æ•°
    customData: "123",
    //è¶…æ—¶æ—¶é—´ å½“å¹¿å‘Šå¤±è´¥åä¼šä¾æ¬¡é‡è¯•å…¶ä»–å¹¿å‘Š ç›´è‡³æ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ è®¾ç½®è¶…æ—¶æ—¶é—´å¯æå‰å–æ¶ˆ
    timeout: 5,
    //å¹¿å‘ŠåŠ è½½æ¨¡å¼ [GTAdsModel.RANDOM]ä¼˜å…ˆçº§æ¨¡å¼ [GTAdsModel.RANDOM]éšæœºæ¨¡å¼
    //é»˜è®¤éšæœºæ¨¡å¼  
    model: GTAdsModel.RANDOM,
    callBack: GTAdsCallBack(
        onShow: (code) {
          print("æ¿€åŠ±å¹¿å‘Šæ˜¾ç¤º ${code.toJson()}");
        }, onFail: (code, message) {
          print("æ¿€åŠ±å¹¿å‘Šå¤±è´¥ ${code.toJson()} $message");
        }, onClick: (code) {
          print("æ¿€åŠ±å¹¿å‘Šç‚¹å‡» ${code.toJson()}");
        }, onClose: (code) {
          print("æ¿€åŠ±å¹¿å‘Šå…³é—­ ${code.toJson()}");
        }, onVerify: (code, verify, transId, rewardName,
        rewardAmount) {
          print(
        "æ¿€åŠ±å¹¿å‘Šå…³é—­ ${code.toJson()} $verify $transId $rewardName $rewardAmount");
        }, onExpand: (code, param) {
          print("æ¿€åŠ±å¹¿å‘Šè‡ªå®šä¹‰å‚æ•° ${code.toJson()} $param");
        },
        onTimeout: () {
         print("æ¿€åŠ±å¹¿å‘ŠåŠ è½½è¶…æ—¶");
        },
        onEnd: () {
          print("æ¿€åŠ±å¹¿å‘Šæ‰€æœ‰å¹¿å‘Šä½éƒ½åŠ è½½å¤±è´¥");
        },
  ),
);
if (b) {
  print("æ¿€åŠ±å¹¿å‘Šå¼€å§‹è¯·æ±‚");
}else{
  print("æ¿€åŠ±å¹¿å‘Šå¼€å§‹è¯·æ±‚å¤±è´¥");
}
```

### æ’å±å¹¿å‘Š

```dart
var b = await GTAds.insertAd(
    //éœ€è¦çš„å¹¿å‘Šä½ç»„
    codes: [GTAdsCode(alias: "csj", probability: 5,androidId: "946201351",iosId: "946201351")],
    isFull: false,
    width: 300,
    height: 500,
    //è¶…æ—¶æ—¶é—´ å½“å¹¿å‘Šå¤±è´¥åä¼šä¾æ¬¡é‡è¯•å…¶ä»–å¹¿å‘Š ç›´è‡³æ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ è®¾ç½®è¶…æ—¶æ—¶é—´å¯æå‰å–æ¶ˆ
    timeout: 5,
    //å¹¿å‘ŠåŠ è½½æ¨¡å¼ [GTAdsModel.PRIORITY]ä¼˜å…ˆçº§æ¨¡å¼ [GTAdsModel.RANDOM]éšæœºæ¨¡å¼
    //é»˜è®¤éšæœºæ¨¡å¼
    model: GTAdsModel.RANDOM,
    callBack: GTAdsCallBack(
        onShow: (code) {
         print("æ’å±å¹¿å‘Šæ˜¾ç¤º ${code.toJson()}");
        },
        onFail: (code, message) {
         print("æ’å±å¹¿å‘Šå¤±è´¥ ${code.toJson()} $message");
        },
        onClick: (code) {
          print("æ’å±å¹¿å‘Šç‚¹å‡» ${code.toJson()}");
        },
        onClose: (code) {
          print("æ’å±å¹¿å‘Šå…³é—­ ${code.toJson()}");
        },
        onTimeout: () {
          print("æ’å±å¹¿å‘ŠåŠ è½½è¶…æ—¶");
        },
        onEnd: () {
          print("æ’å±å¹¿å‘Šæ‰€æœ‰å¹¿å‘Šä½éƒ½åŠ è½½å¤±è´¥");
        },
));
```

### å¼€å±å¹¿å‘Š

```dart
GTAdsSplashWidget(
    //éœ€è¦çš„å¹¿å‘Šä½ç»„
    codes: [GTAdsCode(alias: "csj", probability: 5,androidId: "887367774",iosId: "887367774")],
    width: MediaQuery.of(context).size.width,
    height: MediaQuery.of(context).size.height,
    //è¶…æ—¶æ—¶é—´ å½“å¹¿å‘Šå¤±è´¥åä¼šä¾æ¬¡é‡è¯•å…¶ä»–å¹¿å‘Š ç›´è‡³æ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ è®¾ç½®è¶…æ—¶æ—¶é—´å¯æå‰å–æ¶ˆ
    timeout: 5,
    //å¹¿å‘ŠåŠ è½½æ¨¡å¼ [GTAdsModel.PRIORITY]ä¼˜å…ˆçº§æ¨¡å¼ [GTAdsModel.RANDOM]éšæœºæ¨¡å¼
    //é»˜è®¤éšæœºæ¨¡å¼
    model: GTAdsModel.RANDOM,
    callBack: GTAdsCallBack(
        onShow: (code) {
          print("å¼€å±æ˜¾ç¤º ${code.toJson()}");
        },
        onClick: (code) {
          print("å¼€å±ç‚¹å‡» ${code.toJson()}");
        },
        onFail: (code, message) {
          print("å¼€å±é”™è¯¯ ${code.toJson()} $message");
          Navigator.pop(context);
        },
        onClose: (code) {
          print("å¼€å±å…³é—­ ${code.toJson()}");
          Navigator.pop(context);
        },
        onTimeout: () {
          print("å¼€å±åŠ è½½è¶…æ—¶");
          Navigator.pop(context);
        },
        onEnd: () {
          print("å¼€å±æ‰€æœ‰å¹¿å‘Šä½éƒ½åŠ è½½å¤±è´¥");
          Navigator.pop(context);
        },
  ),
),
```

### ä¿¡æ¯æµ

```dart
GTAdsNativeWidget(
    //éœ€è¦çš„å¹¿å‘Šä½ç»„
    codes: [GTAdsCode(alias: "csj", probability: 5,androidId: "945417699",iosId: "945417699")],
    width: 300,
    height: 200,
    //è¶…æ—¶æ—¶é—´ å½“å¹¿å‘Šå¤±è´¥åä¼šä¾æ¬¡é‡è¯•å…¶ä»–å¹¿å‘Š ç›´è‡³æ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ è®¾ç½®è¶…æ—¶æ—¶é—´å¯æå‰å–æ¶ˆ
    timeout: 5,
    //å¹¿å‘ŠåŠ è½½æ¨¡å¼ [GTAdsModel.PRIORITY]ä¼˜å…ˆçº§æ¨¡å¼ [GTAdsModel.RANDOM]éšæœºæ¨¡å¼ 
    //é»˜è®¤éšæœºæ¨¡å¼
    model: GTAdsModel.RANDOM,
    callBack: GTAdsCallBack(
        onShow: (code) {
          print("ä¿¡æ¯æµæ˜¾ç¤º ${code.toJson()}");
        },
        onClick: (code) {
          print("ä¿¡æ¯æµç‚¹å‡» ${code.toJson()}");
        },
        onFail: (code,message) {
          print("ä¿¡æ¯æµé”™è¯¯ ${code.toJson()} $message");
        },
        onClose: (code) {
          print("ä¿¡æ¯æµå…³é—­ ${code.toJson()}");
        },
        onTimeout: () {
          print("ä¿¡æ¯æµåŠ è½½è¶…æ—¶");
        },
        onEnd: () {
          print("ä¿¡æ¯æµæ‰€æœ‰å¹¿å‘Šä½éƒ½åŠ è½½å¤±è´¥");
        },
    ),
),
```

## è¯´æ˜

### å¹¿å‘Šä½codes

å¦‚æœä¸éœ€è¦æŸä¸ªå¹¿å‘Š åˆ™å¯ä»¥ä¸ä¼ å…¥å¯¹åº”çš„å¹¿å‘Šä½idåˆ°æ•°ç»„ä¸­

### å¹¿å‘ŠåŠ è½½æ¨¡å¼

å¹¿å‘ŠåŠ è½½æ¨¡å¼ mode

- GTAdsModel.PRIORITY ä¼˜å…ˆçº§æ¨¡å¼ä¼ å…¥å¹¿å‘Šä½GTAdsCodeä¸­probabilityæ•°å€¼è¶Šå¤§è¶Šä¼˜å…ˆåŠ è½½ï¼Œå¦‚æœæ•°å€¼ç›¸åŒåˆ™åˆ—è¡¨ä¸­å‰é¢çš„å…ˆåŠ è½½ï¼ˆå½“åŠ è½½å¤±è´¥åä»å‰©ä½™å¹¿å‘Šä¸­æŒ‰æ•°å€¼å¤§å°ä¾æ¬¡é‡è¯•ï¼‰
- GTAdsModel.RANDOM éšæœºæ¨¡å¼
  ä¼ å…¥å¹¿å‘Šä½GTAdsCodeä¸­probabilityæ•°å€¼å¿…é¡»å¤§äº0,å¦‚æœå°äº0åˆ™ä¸ä¼šåŠ è½½è¯¥å¹¿å‘Š,æ•°å€¼è¶Šå¤§å‡ºç°çš„æ¦‚ç‡è¶Šé«˜ï¼ˆå½“åŠ è½½å¤±è´¥åä»å‰©ä½™å¹¿å‘Šä¸­é‡æ–°éšæœºåŠ è½½ï¼‰

#### GTAdsCallBackè¯´æ˜

```dart
  /// [onShow] å¹¿å‘ŠåŠ è½½æˆåŠŸ
  /// [onFail] å¹¿å‘ŠåŠ è½½å¤±è´¥ï¼ˆå•å¹¿å‘Šä½ï¼‰
  /// [onClick] å¹¿å‘ŠåŠ è½½ç‚¹å‡»
  /// [onVerify] å¹¿å‘ŠéªŒè¯
  /// [onClose] å¹¿å‘Šå…³é—­
  /// [onTimeout] å¹¿å‘ŠåŠ è½½è¶…æ—¶
  /// [onEnd] å¹¿å‘ŠåŠ è½½ç»“æŸï¼ˆæ‰€æœ‰å¹¿å‘Šå‡åŠ è½½å¤±è´¥ï¼‰
  /// [onExpand] å¹¿å‘Šæ‰©å±•å›è°ƒ
  GTAdsCallBack(
      {this.onShow,
      this.onFail,
      this.onClick,
      this.onFinish,
      this.onVerify,
      this.onClose,
      this.onTimeout,
      this.onEnd,
      this.onExpand});
```
